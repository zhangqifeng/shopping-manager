{"ast":null,"code":"export default {\n  data() {\n    let goodsId = this.$route.query.id;\n    return {\n      user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\n      goodsId: goodsId,\n      goodsData: {},\n      activeName: 'first'\n    };\n  },\n  mounted() {\n    this.loadGoods();\n  },\n  methods: {\n    loadGoods() {\n      this.$request.get('/goods/selectById?id=' + this.goodsId).then(res => {\n        console.log('接口返回数据:', res); // 输出整个响应，方便调试\n        if (res.code === '200') {\n          console.log('加载的数据:', res.data); // 输出具体的数据\n          this.goodsData = res.data;\n        } else {\n          this.$message.error(res.msg);\n        }\n      }).catch(error => {\n        console.error('请求失败:', error); // 如果请求失败，输出错误\n      });\n    },\n\n    handleClick(tab, event) {\n      this.activeName = tab.name;\n    },\n    navTo(url) {\n      location.href = url;\n    }\n  }\n};","map":{"version":3,"names":["data","goodsId","$route","query","id","user","JSON","parse","localStorage","getItem","goodsData","activeName","mounted","loadGoods","methods","$request","get","then","res","console","log","code","$message","error","msg","catch","handleClick","tab","event","name","navTo","url","location","href"],"sources":["src/views/front/Detail.vue"],"sourcesContent":["<template>\r\n    <div class=\"main-content\">\r\n        <div style=\"width: 60%; background-color: white; min-height: 1000px; margin: 20px auto; border-radius: 20px\">\r\n            <div style=\"padding: 15px 20px\">\r\n                <el-row :gutter=\"20\">\r\n                    <el-col :span=\"12\">\r\n                        <img :src=\"goodsData.img\" alt=\"\" style=\"width: 100%; height: 400px; border-radius: 20px\">\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <div style=\"font-size: 20px; font-weight: 900; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;\">{{goodsData.name}}</div>\r\n                        <div style=\"color: #666666FF; margin-top: 5px\">销量：{{goodsData.count}}</div>\r\n                        <div style=\"color: red; margin-top: 15px\">疯抢价：<span style=\"font-size: 20px\">{{goodsData.price}} / {{goodsData.unit}}</span></div>\r\n                        <div style=\"margin-top: 20px\">\r\n                            <img src=\"@/assets/imgs/right.png\" alt=\"\" style=\"width: 70%; height: 130px; border-radius: 15px\">\r\n                        </div>\r\n                        <div style=\"color: #666666FF; margin-top: 20px\">商家：{{goodsData.businessName}}</div>\r\n                        <!-- 确保 goodsData.typeName 存在时才渲染分类 -->\r\n                        <div style=\"color: #666666FF; margin-top: 20px\" v-if=\"goodsData.typeName\">\r\n                            分类：<a href=\"#\" @click=\"navTo('/front/type?id=' + goodsData.typeId)\">{{ goodsData.typeName }}</a>\r\n                        </div>\r\n                        <div style=\"color: #666666FF; margin-top: 20px\">\r\n                            <el-button type=\"warning\">加入购物车</el-button>\r\n                            <el-button type=\"warning\">收藏</el-button>\r\n                        </div>\r\n                    </el-col>\r\n                </el-row>\r\n            </div>\r\n            <div style=\"padding: 15px 20px\">\r\n                <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n                    <el-tab-pane label=\"宝贝详情\" name=\"first\">\r\n                        <div style=\"padding: 10px 175px\" v-html=\"goodsData.description\"></div>\r\n                    </el-tab-pane>\r\n                    <el-tab-pane label=\"宝贝评价\" name=\"second\">ichigo</el-tab-pane>\r\n                </el-tabs>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            let goodsId = this.$route.query.id\r\n            return {\r\n                user: JSON.parse(localStorage.getItem('xm-user') || '{}'),\r\n                goodsId: goodsId,\r\n                goodsData: {},\r\n                activeName: 'first'\r\n            }\r\n        },\r\n        mounted() {\r\n            this.loadGoods()\r\n        },\r\n        methods: {\r\n            loadGoods() {\r\n                this.$request.get('/goods/selectById?id=' + this.goodsId).then(res => {\r\n                    console.log('接口返回数据:', res);  // 输出整个响应，方便调试\r\n                    if (res.code === '200') {\r\n                        console.log('加载的数据:', res.data);  // 输出具体的数据\r\n                        this.goodsData = res.data;\r\n                    } else {\r\n                        this.$message.error(res.msg);\r\n                    }\r\n                }).catch(error => {\r\n                    console.error('请求失败:', error);  // 如果请求失败，输出错误\r\n                });\r\n            },\r\n            handleClick(tab, event) {\r\n                this.activeName = tab.name\r\n            },\r\n            navTo(url) {\r\n                location.href = url\r\n            }\r\n        }\r\n    }\r\n</script>\r\n"],"mappings":"AAwCA;EACAA,KAAA;IACA,IAAAC,OAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,EAAA;IACA;MACAC,IAAA,EAAAC,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA;MACAR,OAAA,EAAAA,OAAA;MACAS,SAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACAD,UAAA;MACA,KAAAE,QAAA,CAAAC,GAAA,gCAAAf,OAAA,EAAAgB,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,YAAAF,GAAA;QACA,IAAAA,GAAA,CAAAG,IAAA;UACAF,OAAA,CAAAC,GAAA,WAAAF,GAAA,CAAAlB,IAAA;UACA,KAAAU,SAAA,GAAAQ,GAAA,CAAAlB,IAAA;QACA;UACA,KAAAsB,QAAA,CAAAC,KAAA,CAAAL,GAAA,CAAAM,GAAA;QACA;MACA,GAAAC,KAAA,CAAAF,KAAA;QACAJ,OAAA,CAAAI,KAAA,UAAAA,KAAA;MACA;IACA;;IACAG,YAAAC,GAAA,EAAAC,KAAA;MACA,KAAAjB,UAAA,GAAAgB,GAAA,CAAAE,IAAA;IACA;IACAC,MAAAC,GAAA;MACAC,QAAA,CAAAC,IAAA,GAAAF,GAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}